<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Tennis de Table - Vue.js</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@3/dist/vue.global.prod.js"></script>
</head>
<body>
    <div id="app">
        <div class="container" v-if="dataLoaded">
            <!-- Header avec logo -->
            <header class="header">
                <div class="logo">
                    <img src="img/logo.png" alt="Logo du club" class="logo-img">
                </div>
            </header>

            <!-- Contenu principal -->
            <main class="main-content">
                <!-- Colonne gauche -->
                <div class="left-column">
                    <!-- Derniers rÃ©sultats -->
                    <div class="card">
                        <h2 class="card-title">Derniers rÃ©sultats</h2>
                        <div class="results-container" :class="{ fading: isFading }">
                            <div class="result-slide">
                                <div class="main-result">
                                    <span class="team1">{{ currentResult.leftTeam }}</span>
                                    <span class="score">{{ currentResult.leftScore }} - {{ currentResult.rightScore }}</span>
                                    <span class="team2">{{ currentResult.rightTeam }}</span>
                                </div>
                                <div class="player-results">
                                    <div class="player-result" v-for="(joueur, idx) in currentResult.joueurs" :key="idx">
                                        <span class="player-name">{{ joueur.nom }}</span>
                                        <span class="player-score">{{ joueur.victoires }} {{ joueur.victoires === 1 ? 'victoire' : 'victoires' }}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Joueur du mois -->
                    <div class="card">
                        <h2 class="card-title">{{ data.joueur_du_mois.genre === 'F' ? 'Joueuse' : 'Joueur' }} du mois ({{ data.joueur_du_mois.mois }})</h2>
                        <div class="player-of-month">
                            <div class="player-photo">
                                <div class="photo-placeholder">{{ data.joueur_du_mois.genre === 'F' ? 'ðŸ‘©' : 'ðŸ‘¨' }}</div>
                            </div>
                            <div class="player-info">
                                <h3 class="player-name">{{ data.joueur_du_mois.nom }}</h3>
                                <div class="player-stats">
                                    <div class="stat">
                                        <span class="stat-value">{{ data.joueur_du_mois.victoires }} {{ data.joueur_du_mois.victoires === 1 ? 'victoire' : 'victoires' }}</span>
                                    </div>
                                    <div class="stat">
                                        <span class="stat-value green">{{ data.joueur_du_mois.performances }} {{ data.joueur_du_mois.performances === 1 ? 'perf' : 'perfs' }}</span>
                                    </div>
                                    <div class="stat">
                                        <span class="stat-value green">+ {{ data.joueur_du_mois.points }} points</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Colonne centrale -->
                <div class="middle-column">
                    <!-- Matchs du jour -->
                    <div class="section">
                        <h2 class="section-title">Matchs du jour</h2>
                        <div class="matches-list">
                            <div class="match-container" v-for="(match, idx) in matchesWithScores" :key="idx">
                                <div class="match-item clickable" @click="toggleMatch(idx)">
                                    <span class="match-home">{{ match.home }}</span>
                                    <span class="match-score-inline">{{ match.score1 }} - {{ match.score2 }}</span>
                                    <span class="match-away">{{ match.away }}</span>
                                    <span class="match-info">{{ match.heure }} â€¢ {{ match.lieu }}</span>
                                    <span class="expand-icon">{{ expandedMatch === idx ? 'â–¼' : 'â–¶' }}</span>
                                </div>
                                <div class="match-players" v-if="expandedMatch === idx">
                                    <div class="players-header">Joueurs :</div>
                                    <div class="players-list">
                                        <div class="player-item" v-for="(joueur, playerIdx) in getMatchPlayers(match)" :key="playerIdx">
                                            <span class="player-name">{{ joueur.nom }}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Meilleures performances -->
                    <div class="section">
                        <h2 class="section-title">Meilleures perfs du mois</h2>
                        <div class="performances-list">
                            <div class="performance-item" v-for="(perf, idx) in data.meilleures_perfs" :key="idx">
                                <span class="player-name">{{ perf.nom }}</span>
                                <span class="points green">+ {{ perf.points }} points</span>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
        
        <div v-else class="loading">
            <p>Chargement des donnÃ©es...</p>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>


