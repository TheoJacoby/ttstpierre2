<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard TT Saint-Pierre</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="styles.css?v=logo_white_fix">
    
    <script src="https://cdn.jsdelivr.net/npm/vue@3/dist/vue.global.prod.js"></script>
</head>
<body>
    <div class="ambient-light one"></div>
    <div class="ambient-light two"></div>
    <div class="ambient-light three"></div>

    <div id="app">
        <div class="container" v-if="dataLoaded">
            <header class="header">
                <div class="logo-container">
                    <div class="logo">
                        <img src="img/logoTT.png" alt="Logo du club" class="logo-img">
                    </div>
                </div>
            </header>

            <main class="main-content">
                <div class="left-column">
                    <div class="glass-card fixed-width">
                        <h2 class="card-title">Derniers rÃ©sultats</h2>
                        
                        <div class="results-container" :class="{ fading: isFading }">
                            <div class="result-slide">
                                <div class="main-result">
                                    <span class="team-name team1" :class="getTeamColorClass(currentResult.leftTeam, currentResult.leftScore, currentResult.rightScore)">{{ currentResult.leftTeam }}</span>
                                    <div class="score-badge">
                                        <span class="score-val">{{ currentResult.leftScore }}</span>
                                        <span class="score-sep">-</span>
                                        <span class="score-val">{{ currentResult.rightScore }}</span>
                                    </div>
                                    <span class="team-name team2" :class="getTeamColorClass(currentResult.rightTeam, currentResult.rightScore, currentResult.leftScore)">{{ currentResult.rightTeam }}</span>
                                </div>
                                
                                <div class="player-results">
                                    <div class="player-result" v-for="(joueur, idx) in currentResult.joueurs" :key="idx">
                                        <span class="player-name">{{ joueur.nom }}</span>
                                        <span class="player-victories">
                                            <span class="vic-count">{{ joueur.victoires }}</span>
                                            <span class="vic-label">{{ joueur.victoires === 1 ? 'victoire' : 'victoires' }}</span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="glass-card highlight-card">
                        <div class="card-header">
                            <h2 class="card-title">{{ data.joueur_du_mois.genre === 'F' ? 'Joueuse' : 'Joueur' }} du mois</h2>
                            <span class="month-badge">{{ data.joueur_du_mois.mois }}</span>
                        </div>
                        <div class="player-of-month">
                            <div class="player-avatar">
                                <div class="avatar-circle">{{ data.joueur_du_mois.genre === 'F' ? 'ðŸ‘©' : 'ðŸ‘¨' }}</div>
                                <div class="avatar-glow"></div>
                            </div>
                            <div class="player-info">
                                <h3 class="player-hero-name">{{ data.joueur_du_mois.nom }}</h3>
                                <div class="stats-grid">
                                    <div class="stat-box"><span class="stat-num">{{ data.joueur_du_mois.victoires }}</span><span class="stat-label">Victoires</span></div>
                                    <div class="stat-box accent"><span class="stat-num">{{ data.joueur_du_mois.performances }}</span><span class="stat-label">Perfs</span></div>
                                    <div class="stat-box"><span class="stat-num">+{{ data.joueur_du_mois.points }}</span><span class="stat-label">Points</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="middle-column">
                    <div class="glass-panel scrollable-panel">
                        <h2 class="section-title">Matchs du jour</h2>
                        <div class="matches-list">
                            <div class="match-row" v-for="(match, idx) in matchesWithScores" :key="idx">
                                <div class="match-teams">
                                    <span class="team-home" :class="getTeamColorClass(match.home, match.score1, match.score2)">{{ match.home }}</span>
                                    <span class="vs-badge">{{ match.score1 }} - {{ match.score2 }}</span>
                                    <span class="team-away" :class="getTeamColorClass(match.away, match.score2, match.score1)">{{ match.away }}</span>
                                </div>
                                <div class="match-meta">
                                    <span class="match-time">{{ match.heure }}</span>
                                    <span class="status-pill" :class="getStatusClass(match.score1, match.score2)">{{ getMatchStatus(match.score1, match.score2) }}</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="glass-panel small-panel">
                        <h2 class="section-title">Meilleures perfs <span class="orange-dot">.</span></h2>
                        <div class="performances-grid">
                            <div class="perf-card" v-for="(perf, idx) in data.meilleures_perfs" :key="idx">
                                <div class="perf-info">
                                    <span class="perf-points">+{{ perf.points }}</span>
                                    <span class="perf-name">{{ perf.nom }}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
        <div v-else class="loading-screen"><div class="loader"></div></div>
    </div>
    <script src="app.js"></script>
</body>
</html>
